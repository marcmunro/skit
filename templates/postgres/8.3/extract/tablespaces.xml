<?xml version="1.0" encoding="UTF-8"?>

<skit:inclusion
   xmlns:skit="http://www.bloodnok.com/xml/skit"
   xmlns:xi="http://www.w3.org/2003/XInclude">

  <skit:runsql file="sql/tbs.sql">
    <tablespace>	
      <skit:attr name="name"/>
      <skit:attr name="owner"/>
      <skit:attr name="location"/>
      <skit:if test="(select tuple 'comment')">
	<comment>
	  <skit:text expr="(select tuple 'comment')"/>
	</comment>
      </skit:if>
      <!-- <skit:exec expr="(debug 'TUPLE: ' tuple)"/> -->

      <!-- Removed after deciding that privs from and to the same user
          make no sense and should not be recorded.
   
      <skit:if test="(not (select tuple 'privs'))">
	<grant with_grant="yes" priv="create">
	  <skit:attr name="from" field="owner"/>
	  <skit:attr name="to" field="owner"/>
	</grant>
      </skit:if>
      -->

      <skit:exec_function name="grants_from_privs"
			  privileges="(select tuple 'privs')"/>
    </tablespace>
  </skit:runsql>
</skit:inclusion>  

