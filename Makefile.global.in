# ----------
#  Makefile.global.in
# 
#       Autoconf input file for Makefile.global
# 
#       Copyright (c) 2008 - 2014 Marc Munro
#       Author:  Marc Munro
# 	License: GLP V3
#  
#  ----------
#

#location substitutions

PACKAGE_NAME=		@PACKAGE_NAME@
VERSION=		@PACKAGE_VERSION@
MAJOR_VERSION=          @MAJOR_VERSION@
XML_VERSION=            @XML_VERSION@ 
DEBUG=                  @DEBUG@

#build tools
CC=			gcc

#build tool flags

ifeq ($(DEBUG),yes)
# Debug settings for flags
CFLAGS=			-ggdb3 -O0
LDFLAGS=		-ggdb3 -O0
DBGSYM=                 -DDEBUG
else
# Non-debug settings for flags
CFLAGS=			-g -O2
LDLAGS=			-g -O2
DBGSYM=                 -DDEBUG
endif


override CPPFLAGS := -I ./test \
         @GLIB_CFLAGS@ \
	 @PQINCPATH@ \
	 @XML_CFLAGS@ \
	 @XSLT_CFLAGS@ \
	 $(CPPFLAGS) \
	 $(DBGSYM)

override LDFLAGS := @GLIB_LIBS@ @PQLIB@ @EXSLT_LIBS@ $(LDFLAGS)

LIBCHECK = @CHECK_LIBS@

XSLTPROC = @XSLTPROC@

ifeq ($(CC), gcc)
	CFLAGS += -Wall -Wmissing-prototypes -Wmissing-declarations \
			-Wno-parentheses -Wno-format-zero-length \
			-Wno-unused-value
endif
